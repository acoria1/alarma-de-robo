"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1453],{1453:(C,m,s)=>{s.r(m),s.d(m,{LogniPage:()=>P});var f=s(5861),d=s(6895),r=s(4006),a=s(9972),c=s(6159),h=s(4670),b=s(4132);const p=[{uid:"100001",email:"vhqtftpagtpwsllkxx@bbitq.com",password:"Password_123",label:"Agustin",imagen:"/assets/images/dummy-users/avatar_1.png"},{uid:"100002",email:"hnitisnpwqlyilpcxl@tcwlx.com",password:"Password_123",label:"Ivan",imagen:"/assets/images/dummy-users/avatar_2.png"},{uid:"100003",email:"afurtzywqmhuihnsyj@tpwlb.com",password:"Password_123",label:"Laura",imagen:"/assets/images/dummy-users/avatar_3.png"}];var t=s(4650),_=s(3651);function v(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"ion-fab-button",30),t.NdJ("click",function(){const g=t.CHM(o).$implicit,u=t.oxw(2);return t.KtG(u.loadLoginForm(g))}),t.TgZ(1,"div"),t._UZ(2,"ion-img",31),t.qZA()()}if(2&i){const o=l.$implicit;t.Tol(0===l.index?"mt-2 detail":"detail"),t.xp6(2),t.Q6J("src",o.backgroundImg)}}function x(i,l){1&i&&(t.TgZ(0,"ion-note",32),t._uU(1,"formato inv\xe1lido de email"),t.qZA())}function w(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",3)(1,"ion-fab",4,5),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.fabClicked())}),t.TgZ(3,"ion-fab-button",6)(4,"div"),t._UZ(5,"ion-icon",7),t.qZA()(),t.TgZ(6,"ion-fab-list",8),t.YNc(7,v,3,3,"ion-fab-button",9),t.qZA()(),t.TgZ(8,"div")(9,"div",10),t._UZ(10,"ion-img",11),t.qZA(),t.TgZ(11,"div",12)(12,"form",13),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.handleLogIn())}),t.TgZ(13,"ion-item",14)(14,"ion-label",15),t._uU(15,"Correo electr\xf3nico"),t.qZA(),t._UZ(16,"ion-input",16),t.YNc(17,x,2,0,"ion-note",17),t.qZA(),t.TgZ(18,"ion-item",18)(19,"ion-label",15),t._uU(20,"Contrase\xf1a"),t.qZA(),t._UZ(21,"ion-input",19),t.TgZ(22,"ion-button",20),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.togglePasswordVisibility())}),t._UZ(23,"ion-icon",21),t.qZA()(),t.TgZ(24,"div",22),t._uU(25," \xbfNo ten\xe9s una cuenta? \xa0 "),t.TgZ(26,"a",23)(27,"u",24),t._uU(28,"Registrate"),t.qZA()()(),t.TgZ(29,"div",25)(30,"ion-button",26),t._uU(31," Ingresar "),t.qZA(),t.TgZ(32,"div",27),t._uU(33,"O"),t.qZA(),t.TgZ(34,"ion-button",28),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.handleGoogleAuth())}),t._UZ(35,"ion-icon",29),t._uU(36," \xa0\xa0Ingresar con Google "),t.qZA()()()()()()}if(2&i){const o=t.oxw();t.xp6(3),t.Tol(o.fabIsOpen?"":"custom-opacity"),t.xp6(4),t.Q6J("ngForOf",o.mockUsersButtons),t.xp6(1),t.Tol(o.fabIsOpen?"low-opacity":""),t.xp6(4),t.Q6J("formGroup",o.loginForm),t.xp6(5),t.Q6J("ngIf",o.loginForm.get("email").touched),t.xp6(4),t.Q6J("type",o.hidePassword?"password":"text"),t.xp6(2),t.Q6J("name",o.hidePassword?"eye-off-outline":"eye-outline"),t.xp6(7),t.Q6J("disabled",!o.loginForm.valid||o.invalidCredentials)}}function y(i,l){1&i&&t._UZ(0,"app-spinner",33),2&i&&t.Q6J("optionalMessage","Ingresando")}let P=(()=>{class i{constructor(o,e,n,g){this.auth=o,this._router=e,this.fb=n,this.toastController=g,this.attemptingSingIn=!1,this.hidePassword=!0,this.invalidCredentials=!1,this.mockUsersButtons=[],this.fabIsOpen=!1}ngOnInit(){p.forEach(o=>{this.mockUsersButtons.push({id:o.uid,color:"grey",label:o.label,backgroundImg:o.imagen})}),this.loginForm=this.fb.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required]]}),this.loginForm.valueChanges.subscribe(()=>{this.invalidCredentials=!1})}ngOnDestroy(){console.log("Cleared")}loadLoginForm(o){var e,n;let g=p.find(u=>u.uid==o.id);null===(e=this.loginForm.get("email"))||void 0===e||e.setValue(g.email),null===(n=this.loginForm.get("password"))||void 0===n||n.setValue(g.password)}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}handleLogIn(){this.attemptingSingIn=!0,this.auth.SignIn(this.loginForm.get("email").value,this.loginForm.get("password").value).then(()=>{this.auth.afAuth.authState.subscribe(o=>{o&&setTimeout(()=>{var e,n;this.attemptingSingIn=!1,null===(e=this.loginForm.get("email"))||void 0===e||e.setValue(""),null===(n=this.loginForm.get("password"))||void 0===n||n.setValue(""),this._router.navigate(["/home"])},1500)})}).catch(o=>{this.attemptingSingIn=!1,this.invalidCredentials=!0,this.presentToast("bottom","No pudimos verificar tus credenciales, por favor vuelve a ingresarlas.")})}presentToast(o,e){var n=this;return(0,f.Z)(function*(){yield(yield n.toastController.create({message:e,duration:2500,position:o,icon:"alert-circle-outline",buttons:[{text:"Minimizar",role:"cancel"}],color:"warning"})).present()})()}handleGoogleAuth(){this.auth.GoogleAuth()}fabClicked(){this.fabIsOpen=!this.fabIsOpen}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(_.e),t.Y36(c.F0),t.Y36(r.qu),t.Y36(a.yF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-logni"]],standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[3,"fullscreen"],["class","d-flex flex-column p-4 justify-content-start mt-5","style","max-height: 90vh;",4,"ngIf","ngIfElse"],["spinner",""],[1,"d-flex","flex-column","p-4","justify-content-start","mt-5",2,"max-height","90vh"],["slot","fixed","vertical","top","horizontal","start",3,"click"],["fab1",""],["color","warning",1,"header"],["name","people-outline","size","large"],["side","bottom"],[3,"class","click",4,"ngFor","ngForOf"],[1,"row","mb-5"],["src",".\\assets\\icon\\alarma_robo_icon.png",2,"height","30vh"],[1,"row","align-self-center"],[3,"formGroup","ngSubmit"],["lines","full",1,"mb-4"],["position","floating","color","warning"],["type","email","placeholder","nombre.apellido@dominio.com","formControlName","email","legacy","true"],["slot","error",4,"ngIf"],["lines","full",1,"mb-5"],["placeholder","**********","formControlName","password","legacy","true",3,"type"],["size","default","slot","end","fill","clear",1,"pt-3","icon-button",3,"click"],["color","warning",1,"iconEye",3,"name"],[1,"signup-text","mb-3"],["routerLink","/register","routerLinkActive","active",1,"mat-subheading-2"],[1,"font-weight-bold"],[1,"mt-4"],["strong","true","type","submit","expand","block","color","warning",1,"login-button","mt-4","mb-3",3,"disabled"],[1,"separator","mb-3","col-10","offset-1"],["expand","block","color","tertiary","strong","true",1,"google-button",3,"click"],["name","logo-google"],[3,"click"],[3,"src"],["slot","error"],[3,"optionalMessage"]],template:function(o,e){if(1&o&&(t.TgZ(0,"ion-content",0),t.YNc(1,w,37,10,"div",1),t.YNc(2,y,1,1,"ng-template",null,2,t.W1O),t.qZA()),2&o){const n=t.MAs(3);t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",!e.attemptingSingIn)("ngIfElse",n)}},dependencies:[a.Pc,a.YG,a.W2,a.IJ,a.W4,a.zq,a.gu,a.Xz,a.pK,a.Ie,a.Q$,a.uN,a.j9,a.Fo,d.ez,d.sg,d.O5,r.u5,r._Y,r.JJ,r.JL,c.Bz,c.rH,c.Od,r.UX,r.sg,r.u,h.h,b.O],styles:[".heading[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.para[_ngcontent-%COMP%]{font-size:22px;font-weight:500;color:#a6abb1}.login-button[_ngcontent-%COMP%], .google-button[_ngcontent-%COMP%]{height:50px;--border-radius: 12px;--box-shadow: none}.signup-text[_ngcontent-%COMP%]{padding-right:20px;text-align:end}.signup-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ion-color-primary)}ion-footer[_ngcontent-%COMP%]{display:block;order:1;width:100%;z-index:10}.copyright[_ngcontent-%COMP%]{text-align:center}.iconEye[_ngcontent-%COMP%]{font-size:26px}.icon-button[_ngcontent-%COMP%]{--ripple-color: transparent}.full-width[_ngcontent-%COMP%]{width:100%}ion-input[_ngcontent-%COMP%]{color:#ffffa3}ion-fab-button.header[_ngcontent-%COMP%]{width:95vw!important;height:50px!important;--border-radius: 10px !important;--border-color: black;--border-style: solid;--border-width: 2px}ion-fab-button.detail[_ngcontent-%COMP%]{width:30vw!important;height:30vw!important;--border-radius: 50% !important;--border-color: black;--border-style: solid;--border-width: 2px;margin-left:5px;margin-right:5px}.fab-list-active[_ngcontent-%COMP%]{display:flex!important;flex-direction:row}.low-opacity[_ngcontent-%COMP%]{opacity:50%!important}.custom-opacity[_ngcontent-%COMP%]{opacity:75%}ion-content[_ngcontent-%COMP%]{--overflow: hidden}"]}),i})()}}]);