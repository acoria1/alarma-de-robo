"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4035],{7423:(me,J,h)=>{h.d(J,{Uw:()=>X,fo:()=>Q});var y=h(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var M=(()=>{return(s=M||(M={})).Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE",M;var s})();class z extends Error{constructor(i,a,d){super(i),this.message=i,this.code=a,this.data=d}}const se=s=>{var i,a,d,v,u;const b=s.CapacitorCustomPlatform||null,f=s.Capacitor||{},E=f.Plugins=f.Plugins||{},C=s.CapacitorPlatforms,B=(null===(i=null==C?void 0:C.currentPlatform)||void 0===i?void 0:i.getPlatform)||(()=>null!==b?b.name:(s=>{var i,a;return null!=s&&s.androidBridge?"android":null!==(a=null===(i=null==s?void 0:s.webkit)||void 0===i?void 0:i.messageHandlers)&&void 0!==a&&a.bridge?"ios":"web"})(s)),L=(null===(a=null==C?void 0:C.currentPlatform)||void 0===a?void 0:a.isNativePlatform)||(()=>"web"!==B()),l=(null===(d=null==C?void 0:C.currentPlatform)||void 0===d?void 0:d.isPluginAvailable)||(n=>{const t=ee.get(n);return!!(null!=t&&t.platforms.has(B())||ie(n))}),ie=(null===(v=null==C?void 0:C.currentPlatform)||void 0===v?void 0:v.getPluginHeader)||(n=>{var t;return null===(t=f.PluginHeaders)||void 0===t?void 0:t.find(e=>e.name===n)}),ee=new Map,he=(null===(u=null==C?void 0:C.currentPlatform)||void 0===u?void 0:u.registerPlugin)||((n,t={})=>{const e=ee.get(n);if(e)return console.warn(`Capacitor plugin "${n}" already registered. Cannot register plugins twice.`),e.proxy;const r=B(),o=ie(n);let c;const g=function(){var x=(0,y.Z)(function*(){return!c&&r in t?c=c="function"==typeof t[r]?yield t[r]():t[r]:null!==b&&!c&&"web"in t&&(c=c="function"==typeof t.web?yield t.web():t.web),c});return function(){return x.apply(this,arguments)}}(),p=x=>{let I;const S=(...k)=>{const Z=g().then(D=>{const V=((x,I)=>{var S,k;if(!o){if(x)return null===(k=x[I])||void 0===k?void 0:k.bind(x);throw new z(`"${n}" plugin is not implemented on ${r}`,M.Unimplemented)}{const Z=null==o?void 0:o.methods.find(D=>I===D.name);if(Z)return"promise"===Z.rtype?D=>f.nativePromise(n,I.toString(),D):(D,V)=>f.nativeCallback(n,I.toString(),D,V);if(x)return null===(S=x[I])||void 0===S?void 0:S.bind(x)}})(D,x);if(V){const oe=V(...k);return I=null==oe?void 0:oe.remove,oe}throw new z(`"${n}.${x}()" is not implemented on ${r}`,M.Unimplemented)});return"addListener"===x&&(Z.remove=(0,y.Z)(function*(){return I()})),Z};return S.toString=()=>`${x.toString()}() { [capacitor code] }`,Object.defineProperty(S,"name",{value:x,writable:!1,configurable:!1}),S},P=p("addListener"),m=p("removeListener"),w=(x,I)=>{const S=P({eventName:x},I),k=function(){var D=(0,y.Z)(function*(){const V=yield S;m({eventName:x,callbackId:V},I)});return function(){return D.apply(this,arguments)}}(),Z=new Promise(D=>S.then(()=>D({remove:k})));return Z.remove=(0,y.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield k()}),Z},T=new Proxy({},{get(x,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return o?w:P;case"removeListener":return m;default:return p(I)}}});return E[n]=T,ee.set(n,{name:n,proxy:T,platforms:new Set([...Object.keys(t),...o?[r]:[]])}),T});return f.convertFileSrc||(f.convertFileSrc=n=>n),f.getPlatform=B,f.handleError=n=>s.console.error(n),f.isNativePlatform=L,f.isPluginAvailable=l,f.pluginMethodNoop=(n,t,e)=>Promise.reject(`${e} does not have an implementation of "${t}".`),f.registerPlugin=he,f.Exception=z,f.DEBUG=!!f.DEBUG,f.isLoggingEnabled=!!f.isLoggingEnabled,f.platform=f.getPlatform(),f.isNative=f.isNativePlatform(),f},G=(s=>s.Capacitor=se(s))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Q=G.registerPlugin;class X{constructor(i){this.listeners={},this.windowListeners={},i&&(console.warn(`Capacitor WebPlugin "${i.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=i)}addListener(i,a){var d=this;this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(a);const u=this.windowListeners[i];u&&!u.registered&&this.addWindowListener(u);const b=function(){var E=(0,y.Z)(function*(){return d.removeListener(i,a)});return function(){return E.apply(this,arguments)}}(),f=Promise.resolve({remove:b});return Object.defineProperty(f,"remove",{value:(E=(0,y.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield b()}),function(){return E.apply(this,arguments)})}),f;var E}removeAllListeners(){var i=this;return(0,y.Z)(function*(){i.listeners={};for(const a in i.windowListeners)i.removeWindowListener(i.windowListeners[a]);i.windowListeners={}})()}notifyListeners(i,a){const d=this.listeners[i];d&&d.forEach(v=>v(a))}hasListeners(i){return!!this.listeners[i].length}registerWindowListener(i,a){this.windowListeners[a]={registered:!1,windowEventName:i,pluginEventName:a,handler:d=>{this.notifyListeners(a,d)}}}unimplemented(i="not implemented"){return new G.Exception(i,M.Unimplemented)}unavailable(i="not available"){return new G.Exception(i,M.Unavailable)}removeListener(i,a){var d=this;return(0,y.Z)(function*(){const v=d.listeners[i];if(!v)return;const u=v.indexOf(a);d.listeners[i].splice(u,1),d.listeners[i].length||d.removeWindowListener(d.windowListeners[i])})()}addWindowListener(i){window.addEventListener(i.windowEventName,i.handler),i.registered=!0}removeWindowListener(i){i&&(window.removeEventListener(i.windowEventName,i.handler),i.registered=!1)}}const ne=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),j=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class le extends X{getCookies(){return(0,y.Z)(function*(){const i=document.cookie,a={};return i.split(";").forEach(d=>{if(d.length<=0)return;let[v,u]=d.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");v=j(v).trim(),u=j(u).trim(),a[v]=u}),a})()}setCookie(i){return(0,y.Z)(function*(){try{const a=ne(i.key),d=ne(i.value),v=`; expires=${(i.expires||"").replace("expires=","")}`,u=(i.path||"/").replace("path=",""),b=null!=i.url&&i.url.length>0?`domain=${i.url}`:"";document.cookie=`${a}=${d||""}${v}; path=${u}; ${b};`}catch(a){return Promise.reject(a)}})()}deleteCookie(i){return(0,y.Z)(function*(){try{document.cookie=`${i.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}})()}clearCookies(){return(0,y.Z)(function*(){try{const i=document.cookie.split(";")||[];for(const a of i)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(i){return Promise.reject(i)}})()}clearAllCookies(){var i=this;return(0,y.Z)(function*(){try{yield i.clearCookies()}catch(a){return Promise.reject(a)}})()}}Q("CapacitorCookies",{web:()=>new le});const F=function(){var s=(0,y.Z)(function*(i){return new Promise((a,d)=>{const v=new FileReader;v.onload=()=>{const u=v.result;a(u.indexOf(",")>=0?u.split(",")[1]:u)},v.onerror=u=>d(u),v.readAsDataURL(i)})});return function(a){return s.apply(this,arguments)}}();class ue extends X{request(i){return(0,y.Z)(function*(){const a=((s,i={})=>{const a=Object.assign({method:s.method||"GET",headers:s.headers},i),v=((s={})=>{const i=Object.keys(s);return Object.keys(s).map(v=>v.toLocaleLowerCase()).reduce((v,u,b)=>(v[u]=s[i[b]],v),{})})(s.headers)["content-type"]||"";if("string"==typeof s.data)a.body=s.data;else if(v.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[b,f]of Object.entries(s.data||{}))u.set(b,f);a.body=u.toString()}else if(v.includes("multipart/form-data")||s.data instanceof FormData){const u=new FormData;if(s.data instanceof FormData)s.data.forEach((f,E)=>{u.append(E,f)});else for(const f of Object.keys(s.data))u.append(f,s.data[f]);a.body=u;const b=new Headers(a.headers);b.delete("content-type"),a.headers=b}else(v.includes("application/json")||"object"==typeof s.data)&&(a.body=JSON.stringify(s.data));return a})(i,i.webFetchExtra),d=((s,i=!0)=>s?Object.entries(s).reduce((d,v)=>{const[u,b]=v;let f,E;return Array.isArray(b)?(E="",b.forEach(C=>{f=i?encodeURIComponent(C):C,E+=`${u}=${f}&`}),E.slice(0,-1)):(f=i?encodeURIComponent(b):b,E=`${u}=${f}`),`${d}&${E}`},"").substr(1):null)(i.params,i.shouldEncodeUrlParams),v=d?`${i.url}?${d}`:i.url,u=yield fetch(v,a),b=u.headers.get("content-type")||"";let E,C,{responseType:f="text"}=u.ok?i:{};switch(b.includes("application/json")&&(f="json"),f){case"arraybuffer":case"blob":C=yield u.blob(),E=yield F(C);break;case"json":E=yield u.json();break;default:E=yield u.text()}const q={};return u.headers.forEach((B,_)=>{q[_]=B}),{data:E,headers:q,status:u.status,url:u.url}})()}get(i){var a=this;return(0,y.Z)(function*(){return a.request(Object.assign(Object.assign({},i),{method:"GET"}))})()}post(i){var a=this;return(0,y.Z)(function*(){return a.request(Object.assign(Object.assign({},i),{method:"POST"}))})()}put(i){var a=this;return(0,y.Z)(function*(){return a.request(Object.assign(Object.assign({},i),{method:"PUT"}))})()}patch(i){var a=this;return(0,y.Z)(function*(){return a.request(Object.assign(Object.assign({},i),{method:"PATCH"}))})()}delete(i){var a=this;return(0,y.Z)(function*(){return a.request(Object.assign(Object.assign({},i),{method:"DELETE"}))})()}}Q("CapacitorHttp",{web:()=>new ue})},4132:(me,J,h)=>{h.d(J,{O:()=>K});var y=h(6895),U=h(9972),O=h(4650);function $(R,H){if(1&R&&(O.TgZ(0,"div",4),O._uU(1),O.qZA()),2&R){const M=O.oxw();O.xp6(1),O.Oqu(M.optionalMessage)}}let K=(()=>{class R{constructor(){this.optionalMessage="",this.spinnerType="lines-sharp"}ngOnInit(){}}return R.\u0275fac=function(M){return new(M||R)},R.\u0275cmp=O.Xpm({type:R,selectors:[["app-spinner"]],inputs:{optionalMessage:"optionalMessage",spinnerType:"spinnerType"},standalone:!0,features:[O.jDz],decls:5,vars:2,consts:[[1,"container","spinner"],["class","row h1 mb-4",4,"ngIf"],[3,"name"],[1,"row"],[1,"row","h1","mb-4"]],template:function(M,z){1&M&&(O.TgZ(0,"div",0)(1,"div"),O.YNc(2,$,2,1,"div",1),O._UZ(3,"ion-spinner",2)(4,"div",3),O.qZA()()),2&M&&(O.xp6(2),O.Q6J("ngIf",""!=z.optionalMessage),O.xp6(1),O.Q6J("name",z.spinnerType))},dependencies:[U.Pc,U.PQ,y.ez,y.O5]}),R})()},4035:(me,J,h)=>{h.r(J),h.d(J,{HomePage:()=>he});var y=h(5861),U=h(9972),O=h(4132),$=h(6895),K=h(7423);const R=(0,K.fo)("Motion",{android:()=>h.e(2777).then(h.bind(h,2777)).then(n=>new n.MotionWeb),ios:()=>h.e(2777).then(h.bind(h,2777)).then(n=>new n.MotionWeb),web:()=>h.e(2777).then(h.bind(h,2777)).then(n=>new n.MotionWeb)}),H=(0,K.fo)("CapacitorFlash",{web:()=>h.e(8155).then(h.bind(h,8155)).then(n=>new n.CapacitorFlashWeb)});var M=h(1135);const z=(0,K.fo)("Haptics",{web:()=>h.e(1613).then(h.bind(h,1613)).then(n=>new n.HapticsWeb)});var se=h(9751),pe=h(4968),G={error:"cordova_not_available"},Q={error:"plugin_not_installed"};function Y(n){if(typeof window<"u"&&window.angular){var e=window.document,r=window.angular.element(e.querySelector("[ng-app]")||e.body).injector();if(r)return r.get("$q")(function(c,g){n(c,g)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(c,g){n(c,g)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function j(n,t,e){var r,o;"string"==typeof n?r=n:(r=n.constructor.getPluginRef(),e=n.constructor.getPluginName(),o=n.constructor.getPluginInstallName());var c=te(r);return!(!c||t&&typeof c[t]>"u")||(typeof window>"u"||!window.cordova?(function Pe(n,t){typeof process>"u"&&console.warn(t?"Native: tried calling "+n+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+n+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(e,t),G):(function ue(n,t,e){console.warn(e?"Native: tried calling "+n+"."+e+", but the "+n+" plugin is not installed.":"Native: tried accessing the "+n+" plugin but it's not installed."),t&&console.warn("Install the "+n+" plugin: 'ionic cordova plugin add "+t+"'")}(e,o,t),Q))}function F(n,t,e,r,o,c){void 0===r&&(r={}),e=function ce(n,t,e,r){if(void 0===t&&(t={}),t.sync)return n;if("reverse"===t.callbackOrder)n.unshift(r),n.unshift(e);else if("node"===t.callbackStyle)n.push(function(A,p){A?r(A):e(p)});else if("object"===t.callbackStyle&&t.successName&&t.errorName){var o={};o[t.successName]=e,o[t.errorName]=r,n.push(o)}else if(typeof t.successIndex<"u"||typeof t.errorIndex<"u"){var c=function(){t.successIndex>n.length?n[t.successIndex]=e:n.splice(t.successIndex,0,e)},g=function(){t.errorIndex>n.length?n[t.errorIndex]=r:n.splice(t.errorIndex,0,r)};t.successIndex>t.errorIndex?(g(),c()):(c(),g())}else n.push(e),n.push(r);return n}(e,r,o,c);var g=j(n,t);if(!0===g){var A=te(n.constructor.getPluginRef());return A[t].apply(A,e)}return g}function te(n){return typeof window<"u"?re(window,n):null}function re(n,t){for(var e=t.split("."),r=n,o=0;o<e.length;o++){if(!r)return null;r=r[e[o]]}return r}var s=function(n,t,e){return void 0===e&&(e={}),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e.sync?F(n,t,r,e):e.observable?function ye(n,t,e,r){return void 0===r&&(r={}),new se.y(function(o){var c;return c=r.destruct?F(n,t,e,r,function(){for(var g=[],A=0;A<arguments.length;A++)g[A]=arguments[A];return o.next(g)},function(){for(var g=[],A=0;A<arguments.length;A++)g[A]=arguments[A];return o.error(g)}):F(n,t,e,r,o.next.bind(o),o.error.bind(o)),c&&c.error&&(o.error(c.error),o.complete()),function(){try{if(r.clearFunction)return r.clearWithArgs?F(n,r.clearFunction,e,r,o.next.bind(o),o.error.bind(o)):F(n,r.clearFunction,[])}catch(g){console.warn("Unable to clear the previous observable watch for",n.constructor.getPluginName(),t),console.warn(g)}}})}(n,t,r,e):e.eventObservable&&e.event?function ne(n,t){return t=typeof window<"u"&&t?re(window,t):t||(typeof window<"u"?window:{}),(0,pe.R)(t,n)}(e.event,e.element):e.otherPromise?function X(n,t,e,r){return void 0===r&&(r={}),Y(function(o,c){var g=F(n,t,e,r);g?g.error?c(g.error):g.then&&g.then(o).catch(c):c({error:"unexpected_error"})})}(n,t,r,e):function we(n,t,e,r){void 0===r&&(r={});var o,c,g=Y(function(A,p){o=r.destruct?F(n,t,e,r,function(){for(var P=[],m=0;m<arguments.length;m++)P[m]=arguments[m];return A(P)},function(){for(var P=[],m=0;m<arguments.length;m++)P[m]=arguments[m];return p(P)}):F(n,t,e,r,A,p),c=p});return o&&o.error&&(g.catch(function(){}),"function"==typeof c&&c(o.error)),g}(n,t,r,e)}},v=function(){function n(){}return n.installed=function(){return!0===j(this.pluginRef)},n.getPlugin=function(){return typeof window<"u"?function a(n,t){for(var e=t.split("."),r=n,o=0;o<e.length;o++){if(!r)return null;r=r[e[o]]}return r}(window,this.pluginRef):null},n.getPluginName=function(){return this.pluginName},n.getPluginRef=function(){return this.pluginRef},n.getPluginInstallName=function(){return this.plugin},n.getSupportedPlatforms=function(){return this.platforms},n.pluginName="",n.pluginRef="",n.plugin="",n.repo="",n.platforms=[],n.install="",n}();function u(n,t,e,r){return s(n,t,e).apply(this,r)}!function ae(){if(typeof process>"u"){var n=typeof window<"u"?window:{},e=Date.now(),r=!1;n.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-e)+" ms"),r=!0}),setTimeout(function(){!r&&n.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var n,B=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return B(t,n),t.prototype.preloadSimple=function(e,r){return u(this,"preloadSimple",{},arguments)},t.prototype.preloadComplex=function(e,r,o,c,g){return u(this,"preloadComplex",{},arguments)},t.prototype.play=function(e,r){return u(this,"play",{successIndex:1,errorIndex:2},arguments)},t.prototype.stop=function(e){return u(this,"stop",{},arguments)},t.prototype.loop=function(e){return u(this,"loop",{},arguments)},t.prototype.unload=function(e){return u(this,"unload",{},arguments)},t.prototype.setVolumeForComplexAsset=function(e,r){return u(this,"setVolumeForComplexAsset",{},arguments)},t.pluginName="NativeAudio",t.plugin="cordova-plugin-nativeaudio",t.pluginRef="plugins.NativeAudio",t.repo="https://github.com/floatinghotpot/cordova-plugin-nativeaudio",t.platforms=["Android","Browser","iOS"],t}(v),L=new _;var l=h(4650),de=h(3651),ie=h(6159);let fe=(()=>{class n{constructor(){}preloadAudio(e,r){L.preloadSimple(e,r).then(()=>console.log("Audio is preloaded")).catch(o=>console.error("Error preloading audio",o))}playAudio(e){L.play(e).then(()=>console.log("Audio is playing")).catch(r=>console.error("Error playing audio",r))}unloadAudio(e){L.unload(e)}loadPlayAndUnload(e,r){L.preloadSimple(e,r).then(()=>{L.play(e,()=>L.unload(e)).catch(o=>console.error("Error playing audio",o))}).catch(o=>console.error("Error preloading audio",o))}loopComplexAudio(e,r,o,c){L.preloadComplex(e,r,o,1,0).then(()=>{L.loop(e),setTimeout(()=>{L.stop(e).catch(g=>console.log(1,g)),L.unload(e).catch(g=>console.log(2,g))},c)}).catch(g=>console.log(3,g))}stopAudio(e){L.stop(e).catch(()=>console.log("audio was not playing, id:",e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ge=["alert-input-password"];function ee(n,t){if(1&n){const e=l.EpF();l.ynx(0),l.TgZ(1,"ion-content",2)(2,"ion-button",3),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return l.KtG(o.onAlarmaBtnClick())}),l.TgZ(3,"div",4)(4,"h1",5),l._uU(5),l.qZA(),l._UZ(6,"br"),l.TgZ(7,"h1",5),l._uU(8,"ALARMA"),l.qZA(),l._UZ(9,"br")(10,"ion-img",6),l.qZA()(),l.TgZ(11,"ion-fab",7)(12,"ion-fab-button",8),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return l.KtG(o.handleSignOut())}),l._UZ(13,"ion-icon",9),l.qZA()()(),l.BQk()}if(2&n){const e=l.oxw();l.xp6(2),l.Q6J("disabled",e.specialAlertOngoing)("color",e.alarmaActivada?"danger":"primary"),l.xp6(3),l.Oqu(e.alarmaActivada?"DESACTIVAR":"ACTIVAR"),l.xp6(5),l.Tol(e.alarmaActivada?"":"alarma-apagada-img"),l.Q6J("src",e.alarmaActivada?"../assets/images/alarma-encendida.gif":"../assets/images/alarma-apagada.png"),l.xp6(2),l.Q6J("disabled",e.alarmaActivada)}}function ve(n,t){1&n&&(l.TgZ(0,"ion-content"),l._UZ(1,"app-spinner",10),l.qZA()),2&n&&(l.xp6(1),l.Q6J("optionalMessage","Cerrando Sesi\xf3n"))}let he=(()=>{class n{constructor(e,r,o,c,g){this._auth=e,this._router=r,this._audioService=o,this.alertController=c,this.renderer=g,this.signingOut=!1,this.alarmaActivada=!1,this.alarmOngoing=!1,this.hidePassword=!0,this.specialAlertOngoing=!1,this.handleMotionEvent=A=>{if(!this.alarmOngoing&&this.alarmaActivada){var p,P,m,w;const k=A.acceleration.x;var T;if(k>.5&&"left"!==(null===(p=this.phoneHorizontalMove)||void 0===p?void 0:p.value))null===(T=this.phoneHorizontalMove)||void 0===T||T.next("left");else if(k<-.5&&"right"!==(null===(P=this.phoneHorizontalMove)||void 0===P?void 0:P.value)){var x;null===(x=this.phoneHorizontalMove)||void 0===x||x.next("right")}const Z=A.accelerationIncludingGravity.z;var I,S;Z>9.5&&"vertical"===(null===(m=this.phoneOrientation)||void 0===m?void 0:m.value)&&(null===(I=this.phoneOrientation)||void 0===I||I.next("horizontal")),Z<2.5&&Z>-2&&"vertical"!==(null===(w=this.phoneOrientation)||void 0===w?void 0:w.value)&&(null===(S=this.phoneOrientation)||void 0===S||S.next("vertical"))}}}ngOnInit(){this.phoneOrientation=new M.X(null),this.phoneOrientation.subscribe(e=>{console.log("orientation next value received:",e),"vertical"===e&&this.handleVerticalOrientation(),"horizontal"===e&&this.handleHorizontalOrientation()}),this.phoneHorizontalMove=new M.X(null),this.phoneHorizontalMove.subscribe(e=>{console.log("movimiento next value received:",e),"left"===e&&this.handleLeftMovement(),"right"===e&&this.handleRightMovement()})}handleVerticalOrientation(){this.alarmOngoing=!0,H.switchOn({intensity:100}),this._audioService.loopComplexAudio("verticalAudio","assets/audios/vertical.mp3",100,5e3),setTimeout(()=>{H.switchOff(),this.alarmOngoing=!1},5100)}handleHorizontalOrientation(){this.alarmOngoing=!0,z.vibrate({duration:5e3}),this._audioService.loopComplexAudio("horizontalAudio","assets/audios/horizontal.mp3",100,5e3),setTimeout(()=>{this.alarmOngoing=!1},5100)}handleRightMovement(){this.alarmOngoing=!0,L.preloadSimple("rightAudio","assets/audios/right.mp3").then(()=>{L.play("rightAudio",()=>{L.unload("rightAudio"),this.alarmOngoing=!1})})}handleLeftMovement(){this.alarmOngoing=!0,L.preloadSimple("leftAudio","assets/audios/left.mp3").then(()=>{L.play("leftAudio",()=>{L.unload("leftAudio"),this.alarmOngoing=!1})})}onAlarmaBtnClick(){var e=this;return(0,y.Z)(function*(){e.alarmaActivada?e.handleAlarmOff():e.turnAlarmOn()})()}turnAlarmOn(){this.alarmaActivada=!0,R.addListener("accel",this.handleMotionEvent).then(e=>this.listenerHandler=e).catch(()=>"failed adding event listener")}handleAlarmOff(){var e=this;return(0,y.Z)(function*(){yield(yield e.alertController.create({header:"Ingresar Contrase\xf1a",subHeader:"Contrase\xf1a de inicio de sesi\xf3n",buttons:[{text:"Cancelar",role:"cancel",cssClass:"alert-button-cancel"},{text:"Confirmar",role:"confirm",cssClass:"alert-button-confirm",handler:o=>{e._auth.checkPassword(o.password).then(c=>{c?e.turnAlarmOff():e.triggerSpecialAlert()})}}],inputs:[{name:"password",placeholder:"contrase\xf1a",id:"alert-input-password",type:"password",cssClass:"alert-input-text"}],backdropDismiss:!1,cssClass:"custom-alert"})).present()})()}turnAlarmOff(){var e,r,o;null===(e=this.listenerHandler)||void 0===e||e.remove(),this.alarmOngoing=!1,this.alarmaActivada=!1,H.switchOff().catch(c=>console.log(c)),this.cancelAudios(),null===(r=this.phoneHorizontalMove)||void 0===r||r.next(null),null===(o=this.phoneOrientation)||void 0===o||o.next(null)}cancelAudios(){this._audioService.stopAudio("verticalAudio"),this._audioService.stopAudio("horizontalAudio"),this._audioService.stopAudio("rightAudio"),this._audioService.stopAudio("leftAudio"),this._audioService.stopAudio("errorAudio")}triggerSpecialAlert(){this.alarmOngoing=!0,this.specialAlertOngoing=!0,H.switchOn({intensity:100}),z.vibrate({duration:5e3}),this._audioService.loopComplexAudio("errorAudio","assets/audios/error.mp3",100,5e3),setTimeout(()=>{H.switchOff(),this.alarmOngoing=!1,this.specialAlertOngoing=!1},5100)}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}handleSignOut(){var e=this;return(0,y.Z)(function*(){e.signingOut=!0,yield setTimeout(()=>{e._auth.SignOut().then(()=>{e._router.navigate(["login"])})},2e3)})()}ngOnDestroy(){var e;null===(e=this.listenerHandler)||void 0===e||e.remove().catch(r=>console.log("handler was already closed beforehand"))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(de.e),l.Y36(ie.F0),l.Y36(fe),l.Y36(U.Br),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(e,r){if(1&e&&l.Gf(ge,5),2&e){let o;l.iGM(o=l.CRH())&&(r.passwordInput=o.first)}},standalone:!0,features:[l.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["spinner",""],["id","main-content",1,"content-with-full-height"],[1,"btn-alarma",3,"class","disabled","color","click"],[1,"text-container"],[2,"font-size","50px"],[3,"src"],["slot","fixed","vertical","bottom","horizontal","end"],["color","dark",1,"header",3,"disabled","click"],["name","arrow-redo","size","large"],[3,"optionalMessage"]],template:function(e,r){if(1&e&&(l.YNc(0,ee,14,7,"ng-container",0),l.YNc(1,ve,2,1,"ng-template",null,1,l.W1O)),2&e){const o=l.MAs(2);l.Q6J("ngIf",!r.signingOut)("ngIfElse",o)}},dependencies:[U.Pc,U.YG,U.W2,U.IJ,U.W4,U.gu,U.Xz,O.O,$.ez,$.O5],styles:["ion-img[_ngcontent-%COMP%]{object-fit:cover;max-height:100%}ion-img.alarma-apagada-img[_ngcontent-%COMP%]{padding:7vw;opacity:90%}.content-with-full-height[_ngcontent-%COMP%]{height:100%}.divisor[_ngcontent-%COMP%]{background-color:#ffdd86}ion-fab-button.header[_ngcontent-%COMP%]{width:20vw!important;height:10vh!important;--border-radius: 10px !important;--border-color: black;--border-style: solid;--border-width: 2px}ion-button.btn-alarma[_ngcontent-%COMP%]{height:-webkit-fill-available;width:-webkit-fill-available;margin:0}div.text-container[_ngcontent-%COMP%]{display:block}"]}),n})()}}]);